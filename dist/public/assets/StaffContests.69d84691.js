import{_ as t,F as e}from"./DataTable.ddff4dd8.js";import{d as a,o as s,c as n,a as o,l,A as d,f as i,b as r,w as c,e as m}from"./vendor.f9d63584.js";var u=a({name:"StaffContestUpdate",props:{contestProp:{type:Object,default:()=>null}},emits:["update:contest"],data:()=>({contest:null}),watch:{contestProp(t){this.contest=t?{name:t.name,announcementAt:this.$formatDate(t.announcementAt),registrationStartedAt:this.$formatDate(t.registrationStartedAt),registrationEndedAt:this.$formatDate(t.registrationEndedAt)}:null}},methods:{async update(){if(!this.contest)return;const{data:t}=await this.$http.put(`/api/staff/contests/${this.contestProp.id}`,{name:this.contest.name,announcementAt:this.contest.announcementAt,registrationStartedAt:this.contest.registrationStartedAt,registrationEndedAt:this.contest.registrationEndedAt});this.$emit("update:contest",t)}}});const p={class:"modal fade",tabindex:"-1"},f={class:"modal-dialog modal-lg"},b={class:"modal-content"},g=o("div",{class:"modal-header"},[o("h5",{class:"modal-title"}," Update Contest "),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),h={key:0,class:"modal-body"},A=o("hr",null,null,-1),v={class:"row mb-2"},y={class:"col-sm-12"},S={class:"form-group"},C=o("label",null,"Announcement Date",-1),D={class:"col-sm-6"},k={class:"form-group"},U=o("label",null,"Registration Start Date",-1),E={class:"col-sm-6"},$={class:"form-group"},w=o("label",null,"Registration End Date",-1),T={class:"modal-footer"},R=o("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1);u.render=function(t,e,a,r,c,m){return s(),n("div",p,[o("div",f,[o("div",b,[g,t.contest?(s(),n("div",h,[l(o("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>t.contest.name=e),type:"text",class:"form-control mb-3",placeholder:"name"},null,512),[[d,t.contest.name]]),A,o("div",v,[o("div",y,[o("div",S,[C,l(o("input",{"onUpdate:modelValue":e[2]||(e[2]=e=>t.contest.announcementAt=e),type:"datetime-local",class:"form-control"},null,512),[[d,t.contest.announcementAt]])])]),o("div",D,[o("div",k,[U,l(o("input",{"onUpdate:modelValue":e[3]||(e[3]=e=>t.contest.registrationStartedAt=e),type:"datetime-local",class:"form-control"},null,512),[[d,t.contest.registrationStartedAt]])])]),o("div",E,[o("div",$,[w,l(o("input",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.contest.registrationEndedAt=e),type:"datetime-local",class:"form-control"},null,512),[[d,t.contest.registrationEndedAt]])])])])])):i("",!0),o("div",T,[R,o("button",{type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=(...e)=>t.update&&t.update(...e))}," Save changes ")])])])])};var x=a({name:"StaffContests",components:{DataTable:t,StaffContestUpdate:u},data:()=>({contests:[],selectedContest:null,fields:["id","name",{key:"announcementAt",label:"Announcement Date",formatter:e.DateTimeString},{key:"registrationStartedAt",label:"Registration Start",formatter:e.DateTimeString},{key:"registrationEndedAt",label:"Registration Start",formatter:e.DateTimeString}]}),async created(){const{data:t}=await this.$http.get("/api/contests");this.contests=t},methods:{update(t){const e=this.contests.findIndex((e=>e.id===t.id));-1!==e&&(this.contests[e]=t)}}});const V={class:"container"},_={class:"row"},j={class:"col-sm"},P=m(" Rounds "),F=m(" Teams ");x.render=function(t,e,a,l,d,i){const m=r("router-link"),u=r("data-table"),p=r("staff-contest-update");return s(),n("div",V,[o("div",_,[o("div",j,[o(u,{items:t.contests,fields:t.fields},{actions:c((({item:e})=>[o("button",{class:"btn btn-sm btn-primary me-2","data-bs-toggle":"modal","data-bs-target":"#contestUpdate",onClick:a=>t.selectedContest=e}," Edit ",8,["onClick"]),o(m,{class:"btn btn-sm btn-link me-2",to:{name:"staff-rounds",params:{id:e.id}}},{default:c((()=>[P])),_:2},1032,["to"]),o(m,{class:"btn btn-sm btn-link",to:{name:"staff-teams",params:{id:e.id}}},{default:c((()=>[F])),_:2},1032,["to"])])),_:1},8,["items","fields"])])]),o(p,{id:"contestUpdate","contest-prop":t.selectedContest,"onUpdate:contest":e[1]||(e[1]=e=>t.update(e))},null,8,["contest-prop"])])};export default x;
