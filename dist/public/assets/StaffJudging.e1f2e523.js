import{J as e}from"./index.a02505d2.js";import{_ as s}from"./DataTable.2986ebb1.js";import{d as a,b as t,o as d,c as i,a as r,w as n,g as l,e as u}from"./vendor.28fcb284.js";var o=a({name:"StaffJudging",components:{DataTable:s},data(){return{judgingType:e.Mappers,resultsData:null,fields:[{key:"team",label:"Team",formatter:e=>e.name},{key:"judging",label:"Count",formatter:this.getJudgesInvolvedCount},{key:"judging",label:"Judges",formatter:this.getJudgesInvolved},{key:"judging",label:"Missing Judges",formatter:this.getMissingJudges}]}},computed:{allJudges(){var e;return(null==(e=this.resultsData)?void 0:e.judges)||[]}},watch:{judgingType:{async handler(e){const{data:s}=await this.$http.get(`/api/rounds/${this.$route.params.id}/results?type=${e}`);this.resultsData=s},immediate:!0}},methods:{getJudgesInvolvedCount(e){var s;return e.map((e=>e.judge)).length+" done of "+(null==(s=this.resultsData)?void 0:s.judges.length)},getJudgesInvolved:e=>e.map((e=>e.judge.username)).join(", "),getMissingJudges(e){return this.allJudges.filter((s=>e.every((e=>e.judge.id!==s.id)))).map((e=>e.username)).join(", ")}}});const g={class:"container"},m={class:"card"},c=r("div",{class:"card-title"}," Judging List ",-1),p={class:"card-subtitle"},v=u(" Summary of all the judging done, for detailed scoring go to the result page "),f=u(" here "),h={class:"card my-2"},y={key:0,class:"card-body"},b={class:"mb-2"},j=u(" Type: "),J={key:1,class:"card-body"};o.render=function(e,s,a,u,o,k){var D;const T=t("router-link"),C=t("data-table");return d(),i("div",g,[r("div",m,[c,r("div",p,[v,r(T,{to:{name:"results",params:{id:e.$route.params.id}}},{default:n((()=>[f])),_:1},8,["to"])])]),r("div",h,[(null==(D=e.resultsData)?void 0:D.round.submissions.length)?(d(),i("div",y,[r("div",b,[j,r("a",{class:"me-2",href:"#",onClick:s[1]||(s[1]=l((s=>e.judgingType=1),["prevent"]))}," mapper "),r("a",{href:"#",onClick:s[2]||(s[2]=l((s=>e.judgingType=2),["prevent"]))}," player ")]),r(C,{fields:e.fields,items:e.resultsData.round.submissions},null,8,["fields","items"])])):(d(),i("div",J," No submissions "))])])};export default o;
